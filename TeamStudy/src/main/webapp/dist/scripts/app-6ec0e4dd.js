"use strict";angular.module("teamstudyApp",["LocalStorageModule","tmh.dynamicLocale","ngResource","ui.router","ngCookies","pascalprecht.translate","ngCacheBuster","infinite-scroll"]).run(["$rootScope","$location","$window","$http","$state","$translate","Auth","Principal","Language","ENV","VERSION",function(e,t,a,r,o,n,i,s,u,l,c){e.ENV=l,e.VERSION=c,e.$on("$stateChangeStart",function(t,a,r){e.toState=a,e.toStateParams=r,s.isIdentityResolved()&&i.authorize(),u.getCurrent().then(function(e){n.use(e)})}),e.$on("$stateChangeSuccess",function(t,r,o,i,s){var u="global.title";e.previousStateName=i.name,e.previousStateParams=s,r.data.pageTitle&&(u=r.data.pageTitle),n(u).then(function(e){a.document.title=e})}),e.back=function(){"activate"===e.previousStateName||null===o.get(e.previousStateName)?o.go("home"):o.go(e.previousStateName,e.previousStateParams)}}]).factory("authInterceptor",["$rootScope","$q","$location","localStorageService",function(e,t,a,r){return{request:function(e){e.headers=e.headers||{};var t=r.get("token");return t&&t.expires&&t.expires>(new Date).getTime()&&(e.headers["x-auth-token"]=t.token),e}}}]).config(["$stateProvider","$urlRouterProvider","$httpProvider","$locationProvider","$translateProvider","tmhDynamicLocaleProvider","httpRequestInterceptorCacheBusterProvider",function(e,t,a,r,o,n,i){i.setMatchlist([/.*api.*/,/.*protected.*/],!0),t.otherwise("/"),e.state("site",{"abstract":!0,views:{"navbar@":{templateUrl:"scripts/components/navbar/navbar.html",controller:"NavbarController"}},resolve:{authorize:["Auth",function(e){return e.authorize()}],translatePartialLoader:["$translate","$translatePartialLoader",function(e,t){return t.addPart("global"),t.addPart("language"),e.refresh()}]}}),a.interceptors.push("authInterceptor"),o.useLoader("$translatePartialLoader",{urlTemplate:"i18n/{lang}/{part}.json"}),o.preferredLanguage("en"),o.useCookieStorage(),n.localeLocationPattern("bower_components/angular-i18n/angular-locale_{{locale}}.js"),n.useCookieStorage("NG_TRANSLATE_LANG_KEY")}]);
"use strict";angular.module("teamstudyApp").constant("ENV","prod").constant("VERSION","0.0.1-SNAPSHOT");
"use strict";angular.module("teamstudyApp").constant("ENV","dev").constant("VERSION","0.0.1-SNAPSHOT");
"use strict";angular.module("teamstudyApp").factory("Auth",["$rootScope","$state","$q","$translate","Principal","AuthServerProvider","Account","Register","Activate","Password",function(t,n,e,r,o,u,a,i,c,s){return{login:function(t,n){var a=n||angular.noop,i=e.defer();return u.login(t).then(function(t){return o.identity(!0).then(function(t){r.use(t.langKey)}),i.resolve(t),a()})["catch"](function(t){return this.logout(),i.reject(t),a(t)}.bind(this)),i.promise},logout:function(){u.logout(),o.authenticate(null)},authorize:function(e){return o.identity(e).then(function(){var e=o.isAuthenticated();t.toState.data.roles&&t.toState.data.roles.length>0&&!o.isInAnyRole(t.toState.data.roles)&&(e?n.go("accessdenied"):(t.returnToState=t.toState,t.returnToStateParams=t.toStateParams,n.go("login")))})},createAccount:function(t,n){var e=n||angular.noop;return i.save(t,function(){return e(t)},function(t){return this.logout(),e(t)}.bind(this)).$promise},updateAccount:function(t,n){var e=n||angular.noop;return a.save(t,function(){return e(t)},function(t){return e(t)}.bind(this)).$promise},activateAccount:function(t,n){var e=n||angular.noop;return c.get(t,function(t){return e(t)},function(t){return e(t)}.bind(this)).$promise},changePassword:function(t,n){var e=n||angular.noop;return s.save(t,function(){return e()},function(t){return e(t)}).$promise}}}]);
"use strict";angular.module("teamstudyApp").factory("Principal",["$q","Account",function(n,e){var t,r=!1;return{isIdentityResolved:function(){return angular.isDefined(t)},isAuthenticated:function(){return r},isInRole:function(n){return r&&t&&t.roles?-1!==t.roles.indexOf(n):!1},isInAnyRole:function(n){if(!r||!t.roles)return!1;for(var e=0;e<n.length;e++)if(this.isInRole(n[e]))return!0;return!1},authenticate:function(n){t=n,r=null!==n},identity:function(i){var u=n.defer();return i===!0&&(t=void 0),angular.isDefined(t)?(u.resolve(t),u.promise):(e.get().$promise.then(function(n){t=n.data,r=!0,u.resolve(t)})["catch"](function(){t=null,r=!1,u.resolve(t)}),u.promise)}}}]);
"use strict";angular.module("teamstudyApp").factory("Account",["$resource",function(r){return r("api/account",{},{get:{method:"GET",params:{},isArray:!1,interceptor:{response:function(r){return r}}}})}]);
"use strict";angular.module("teamstudyApp").factory("Activate",["$resource",function(t){return t("api/activate",{},{get:{method:"GET",params:{},isArray:!1}})}]);
"use strict";angular.module("teamstudyApp").factory("Password",["$resource",function(a){return a("api/account/change_password",{},{})}]);
"use strict";angular.module("teamstudyApp").factory("Register",["$resource",function(e){return e("api/register",{},{})}]);
"use strict";angular.module("teamstudyApp").directive("showValidation",function(){return{restrict:"A",require:"form",link:function(n,t){t.find(".form-group").each(function(){var t=$(this),e=t.find("input[ng-model],textarea[ng-model],select[ng-model]");e.length>0&&e.each(function(){var e=$(this);n.$watch(function(){return e.hasClass("ng-invalid")&&e.hasClass("ng-dirty")},function(n){t.toggleClass("has-error",n)})})})}}});
"use strict";angular.module("teamstudyApp").factory("Language",["$q","$http","$translate","LANGUAGES",function(e,r,t,n){return{getCurrent:function(){var r=e.defer(),n=t.storage().get("NG_TRANSLATE_LANG_KEY");return angular.isUndefined(n)&&(n="en"),r.resolve(n),r.promise},getAll:function(){var r=e.defer();return r.resolve(n),r.promise}}}]).constant("LANGUAGES",["en","fr","es"]);
"use strict";angular.module("teamstudyApp").controller("LanguageController",["$scope","$translate","Language",function(n,e,a){n.changeLanguage=function(n){e.use(n)},a.getAll().then(function(e){n.languages=e})}]);
"use strict";angular.module("teamstudyApp").factory("AuditsService",["$http",function(t){return{findAll:function(){return t.get("api/audits/all").then(function(t){return t.data})},findByDates:function(n,a){var e=function(t){return void 0===t||angular.isString(t)?t:t.getYear()+"-"+t.getMonth()+"-"+t.getDay()};return t.get("api/audits/byDates",{params:{fromDate:e(n),toDate:e(a)}}).then(function(t){return t.data})}}}]);
"use strict";angular.module("teamstudyApp").factory("LogsService",["$resource",function(e){return e("api/logs",{},{findAll:{method:"GET",isArray:!0},changeLevel:{method:"PUT"}})}]);
"use strict";angular.module("teamstudyApp").factory("ConfigurationService",["$rootScope","$filter","$http",function(r,t,n){return{get:function(){return n.get("configprops").then(function(r){var n=[];angular.forEach(r.data,function(r){n.push(r)});var e=t("orderBy");return e(n,"prefix")})}}}]);
"use strict";angular.module("teamstudyApp").factory("MonitoringService",["$rootScope","$http",function(t,e){return{getMetrics:function(){return e.get("metrics/metrics").then(function(t){return t.data})},checkHealth:function(){return e.get("health").then(function(t){return t.data})},threadDump:function(){return e.get("dump").then(function(t){return t.data})}}}]);
"use strict";angular.module("teamstudyApp").directive("activeMenu",["$translate","$locale","tmhDynamicLocale",function(t,e,n){return{restrict:"A",link:function(e,i,a){var c=a.activeMenu;e.$watch(function(){return t.use()},function(t){c===t?(n.set(c),i.addClass("active")):i.removeClass("active")})}}}]).directive("activeLink",["location",function(t){return{restrict:"A",link:function(e,n,i){var a=i.activeLink,c=i.href;c=c.substring(1),e.location=t,e.$watch("location.path()",function(t){c===t?n.addClass(a):n.removeClass(a)})}}}]);
"use strict";angular.module("teamstudyApp").controller("NavbarController",["$scope","$location","$state","Auth","Principal",function(t,o,e,n,i){t.isAuthenticated=i.isAuthenticated,t.isInRole=i.isInRole,t.$state=e,t.logout=function(){n.logout(),e.go("home")}}]);
"use strict";angular.module("teamstudyApp").factory("User",["$resource",function(r){return r("api/users/:login",{},{query:{method:"GET",isArray:!0},get:{method:"GET",transformResponse:function(r){return r=angular.fromJson(r)}}})}]);
"use strict";angular.module("teamstudyApp").filter("characters",function(){return function(r,t,n){if(isNaN(t))return r;if(0>=t)return"";if(r&&r.length>t){if(r=r.substring(0,t),n)for(;" "===r.charAt(r.length-1);)r=r.substr(0,r.length-1);else{var e=r.lastIndexOf(" ");-1!==e&&(r=r.substr(0,e))}return r+"..."}return r}}).filter("words",function(){return function(r,t){if(isNaN(t))return r;if(0>=t)return"";if(r){var n=r.split(/\s+/);n.length>t&&(r=n.slice(0,t).join(" ")+"...")}return r}});
"use strict";angular.module("teamstudyApp").service("Base64",function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";this.encode=function(r){for(var t,a,o,c,n,i="",f="",h="",l=0;l<r.length;)t=r.charCodeAt(l++),a=r.charCodeAt(l++),f=r.charCodeAt(l++),o=t>>2,c=(3&t)<<4|a>>4,n=(15&a)<<2|f>>6,h=63&f,isNaN(a)?n=h=64:isNaN(f)&&(h=64),i=i+e.charAt(o)+e.charAt(c)+e.charAt(n)+e.charAt(h),t=a=f="",o=c=n=h="";return i},this.decode=function(r){var t,a,o,c,n,i="",f="",h="",l=0;for(r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<r.length;)o=e.indexOf(r.charAt(l++)),c=e.indexOf(r.charAt(l++)),n=e.indexOf(r.charAt(l++)),h=e.indexOf(r.charAt(l++)),t=o<<2|c>>4,a=(15&c)<<4|n>>2,f=(3&n)<<6|h,i+=String.fromCharCode(t),64!==n&&(i+=String.fromCharCode(a)),64!==h&&(i+=String.fromCharCode(f)),t=a=f="",o=c=n=h=""}}).factory("StorageService",["$window",function(e){return{get:function(r){return JSON.parse(e.localStorage.getItem(r))},save:function(r,t){e.localStorage.setItem(r,JSON.stringify(t))},remove:function(r){e.localStorage.removeItem(r)},clearAll:function(){e.localStorage.clear()}}}]);
"use strict";angular.module("teamstudyApp").service("ParseLinks",function(){this.parse=function(r){if(0==r.length)throw new Error("input must not be of zero length");var e=r.split(","),t={};return angular.forEach(e,function(r){var e=r.split(";");if(2!=e.length)throw new Error("section could not be split on ';'");var n=e[0].replace(/<(.*)>/,"$1").trim(),a={};n.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(r,e,t,n){a[e]=n});var i=a.page;angular.isString(i)&&(i=parseInt(i));var o=e[1].replace(/rel="(.*)"/,"$1").trim();t[o]=i}),t}});
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("account",{"abstract":!0,parent:"site"})}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("activate",{parent:"account",url:"/activate?key",data:{roles:[],pageTitle:"activate.title"},views:{"content@":{templateUrl:"scripts/app/account/activate/activate.html",controller:"ActivationController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(t,a){return a.addPart("activate"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("ActivationController",["$scope","$stateParams","Auth",function(t,c,e){e.activateAccount({key:c.key}).then(function(){t.error=null,t.success="OK"})["catch"](function(){t.success=null,t.error="ERROR"})}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("login",{parent:"account",url:"/login",data:{roles:[],pageTitle:"login.title"},views:{"content@":{templateUrl:"scripts/app/account/login/login.html",controller:"LoginController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(t,a){return a.addPart("login"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("LoginController",["$rootScope","$scope","$state","$timeout","Auth",function(e,r,o,t,n){r.user={},r.errors={},r.rememberMe=!0,t(function(){angular.element('[ng-model="username"]').focus()}),r.login=function(){n.login({username:r.username,password:r.password,rememberMe:r.rememberMe}).then(function(){r.authenticationError=!1,"register"===e.previousStateName?o.go("home"):e.back()})["catch"](function(){r.authenticationError=!0})}}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("logout",{parent:"account",url:"/logout",data:{roles:[]},views:{"content@":{templateUrl:"scripts/app/main/main.html",controller:"LogoutController"}}})}]);
"use strict";angular.module("teamstudyApp").controller("LogoutController",["Auth",function(o){o.logout()}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(a){a.state("password",{parent:"account",url:"/password",data:{roles:["ROLE_USER"],pageTitle:"global.menu.account.password"},views:{"content@":{templateUrl:"scripts/app/account/password/password.html",controller:"PasswordController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(a,t){return t.addPart("password"),a.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("PasswordController",["$scope","Auth","Principal",function(o,n,c){c.identity().then(function(n){o.account=n}),o.success=null,o.error=null,o.doNotMatch=null,o.changePassword=function(){o.password!==o.confirmPassword?o.doNotMatch="ERROR":(o.doNotMatch=null,n.changePassword(o.password).then(function(){o.error=null,o.success="OK"})["catch"](function(){o.success=null,o.error="ERROR"}))}}]);
"use strict";angular.module("teamstudyApp").directive("passwordStrengthBar",function(){return{replace:!0,restrict:"E",template:'<div id="strength"><small translate="global.messages.validate.newpassword.strength">Password strength:</small><ul id="strengthBar"><li class="point"></li><li class="point"></li><li class="point"></li><li class="point"></li><li class="point"></li></ul></div>',link:function(t,s,e){var l={colors:["#F00","#F90","#FF0","#9F0","#0F0"],mesureStrength:function(t){var s=0,e=/[$-/:-?{-~!"^_`\[\]]/g,l=/[a-z]+/.test(t),n=/[A-Z]+/.test(t),i=/[0-9]+/.test(t),r=e.test(t),a=[l,n,i,r],o=$.grep(a,function(t){return t===!0}).length;return s+=2*t.length+(t.length>=10?1:0),s+=10*o,s=t.length<=6?Math.min(s,10):s,s=1===o?Math.min(s,10):s,s=2===o?Math.min(s,20):s,s=3===o?Math.min(s,40):s},getColor:function(t){var s=0;return s=10>=t?0:20>=t?1:30>=t?2:40>=t?3:4,{idx:s+1,col:this.colors[s]}}};t.$watch(e.passwordToCheck,function(t){if(t){var e=l.getColor(l.mesureStrength(t));s.removeClass("ng-hide"),s.find("ul").children("li").css({background:"#DDD"}).slice(0,e.idx).css({background:e.col})}})}}});
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("register",{parent:"account",url:"/register",data:{roles:[],pageTitle:"register.title"},views:{"content@":{templateUrl:"scripts/app/account/register/register.html",controller:"RegisterController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(t,e){return e.addPart("register"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("RegisterController",["$scope","$translate","$timeout","Auth",function(r,e,t,s){r.success=null,r.error=null,r.doNotMatch=null,r.errorUserExists=null,r.registerAccount={},t(function(){angular.element('[ng-model="registerAccount.login"]').focus()}),r.register=function(){r.registerAccount.password!==r.confirmPassword?r.doNotMatch="ERROR":(r.registerAccount.langKey=e.use(),r.doNotMatch=null,r.error=null,r.errorUserExists=null,r.errorEmailExists=null,s.createAccount(r.registerAccount).then(function(){r.success="OK"})["catch"](function(e){r.success=null,400===e.status&&"login already in use"===e.data?r.errorUserExists="ERROR":400===e.status&&"e-mail address already in use"===e.data?r.errorEmailExists="ERROR":r.error="ERROR"}))}}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("settings",{parent:"account",url:"/settings",data:{roles:["ROLE_USER"],pageTitle:"global.menu.account.settings"},views:{"content@":{templateUrl:"scripts/app/account/settings/settings.html",controller:"SettingsController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(t,e){return e.addPart("settings"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("SettingsController",["$scope","Principal","Auth",function(t,n,c){t.success=null,t.error=null,n.identity().then(function(n){t.settingsAccount=n}),t.save=function(){c.updateAccount(t.settingsAccount).then(function(){t.error=null,t.success="OK",n.identity().then(function(n){t.settingsAccount=n})})["catch"](function(){t.success=null,t.error="ERROR"})}}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("admin",{"abstract":!0,parent:"site"})}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("audits",{parent:"admin",url:"/audits",data:{roles:["ROLE_ADMIN"],pageTitle:"audits.title"},views:{"content@":{templateUrl:"scripts/app/admin/audits/audits.html",controller:"AuditsController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(t,a){return a.addPart("audits"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("AuditsController",["$scope","$translate","$filter","AuditsService",function(t,e,a,n){t.onChangeDate=function(){var e="yyyy-MM-dd",o=a("date")(t.fromDate,e),r=a("date")(t.toDate,e);n.findByDates(o,r).then(function(e){t.audits=e})},t.today=function(){var e=new Date;t.toDate=new Date(e.getFullYear(),e.getMonth(),e.getDate()+1)},t.previousMonth=function(){var e=new Date;e=0===e.getMonth()?new Date(e.getFullYear()-1,0,e.getDate()):new Date(e.getFullYear(),e.getMonth()-1,e.getDate()),t.fromDate=e},t.today(),t.previousMonth(),t.onChangeDate()}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("configuration",{parent:"admin",url:"/configuration",data:{roles:["ROLE_ADMIN"],pageTitle:"configuration.title"},views:{"content@":{templateUrl:"scripts/app/admin/configuration/configuration.html",controller:"ConfigurationController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(t,a){return a.addPart("configuration"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("ConfigurationController",["$scope","ConfigurationService",function(n,o){o.get().then(function(o){n.configuration=o})}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("docs",{parent:"admin",url:"/docs",data:{roles:["ROLE_ADMIN"],pageTitle:"global.menu.admin.apidocs"},views:{"content@":{templateUrl:"scripts/app/admin/docs/docs.html"}}})}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("health",{parent:"admin",url:"/health",data:{roles:["ROLE_ADMIN"],pageTitle:"health.title"},views:{"content@":{templateUrl:"scripts/app/admin/health/health.html",controller:"HealthController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(t,a){return a.addPart("health"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("HealthController",["$scope","MonitoringService",function(t,a){t.updatingHealth=!0,t.separator=".",t.refresh=function(){t.updatingHealth=!0,a.checkHealth().then(function(a){t.healthData=t.transformHealthData(a),t.updatingHealth=!1},function(a){t.healthData=t.transformHealthData(a.data),t.updatingHealth=!1})},t.refresh(),t.getLabelClass=function(t){return"UP"===t?"label-success":"label-danger"},t.transformHealthData=function(a){var e=[];return t.flattenHealthData(e,null,a),e},t.flattenHealthData=function(a,e,n){return angular.forEach(n,function(n,r){t.isHealthObject(n)&&(t.hasSubSystem(n)?(t.addHealthObject(a,!1,n,t.getModuleName(e,r)),t.flattenHealthData(a,t.getModuleName(e,r),n)):t.addHealthObject(a,!0,n,t.getModuleName(e,r)))}),a},t.getModuleName=function(a,e){var n;return n=a&&e?a+t.separator+e:a?a:e?e:""},t.showHealth=function(a){t.currentHealth=a,$("#showHealthModal").modal("show")},t.addHealthObject=function(a,e,n,r){var l={name:r},u={},o=!1;return angular.forEach(n,function(a,e){"status"===e||"error"===e?l[e]=a:t.isHealthObject(a)||(u[e]=a,o=!0)}),o&&angular.extend(l,{details:u}),(e||o||l.error)&&a.push(l),l},t.hasSubSystem=function(t){var a=!1;return angular.forEach(t,function(t){t&&t.status&&(a=!0)}),a},t.isHealthObject=function(t){var a=!1;return angular.forEach(t,function(t,e){"status"===e&&(a=!0)}),a},t.baseName=function(t){if(t){var a=t.split(".");return a[0]}},t.subSystemName=function(t){if(t){var a=t.split(".");a.splice(0,1);var e=a.join(".");return e?" - "+e:""}}}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("logs",{parent:"admin",url:"/logs",data:{roles:["ROLE_ADMIN"],pageTitle:"logs.title"},views:{"content@":{templateUrl:"scripts/app/admin/logs/logs.html",controller:"LogsController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(t,a){return a.addPart("logs"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("LogsController",["$scope","LogsService",function(e,l){e.loggers=l.findAll(),e.changeLevel=function(n,o){l.changeLevel({name:n,level:o},function(){e.loggers=l.findAll()})}}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("metrics",{parent:"admin",url:"/metrics",data:{roles:["ROLE_ADMIN"],pageTitle:"metrics.title"},views:{"content@":{templateUrl:"scripts/app/admin/metrics/metrics.html",controller:"MetricsController"}},resolve:{translatePartialLoader:["$translate","$translatePartialLoader",function(t,e){return e.addPart("metrics"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("MetricsController",["$scope","MonitoringService",function(e,t){e.metrics={},e.updatingMetrics=!0,e.refresh=function(){e.updatingMetrics=!0,t.getMetrics().then(function(t){e.metrics=t,e.updatingMetrics=!1},function(t){e.metrics=t.data,e.updatingMetrics=!1})},e.$watch("metrics",function(t){e.servicesStats={},e.cachesStats={},angular.forEach(t.timers,function(t,a){if((-1!==a.indexOf("web.rest")||-1!==a.indexOf("service"))&&(e.servicesStats[a]=t),-1!==a.indexOf("net.sf.ehcache.Cache")){var r=a.lastIndexOf("."),n=a.substr(0,r);r=n.lastIndexOf("."),e.cachesStats[n]={name:n.substr(r+1),value:t}}})}),e.refresh(),e.refreshThreadDumpData=function(){t.threadDump().then(function(t){e.threadDump=t,e.threadDumpRunnable=0,e.threadDumpWaiting=0,e.threadDumpTimedWaiting=0,e.threadDumpBlocked=0,angular.forEach(t,function(t){"RUNNABLE"===t.threadState?e.threadDumpRunnable+=1:"WAITING"===t.threadState?e.threadDumpWaiting+=1:"TIMED_WAITING"===t.threadState?e.threadDumpTimedWaiting+=1:"BLOCKED"===t.threadState&&(e.threadDumpBlocked+=1)}),e.threadDumpAll=e.threadDumpRunnable+e.threadDumpWaiting+e.threadDumpTimedWaiting+e.threadDumpBlocked})},e.getLabelClass=function(e){return"RUNNABLE"===e?"label-success":"WAITING"===e?"label-info":"TIMED_WAITING"===e?"label-warning":"BLOCKED"===e?"label-danger":void 0}}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("entity",{"abstract":!0,parent:"site"})}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(r){r.state("error",{parent:"site",url:"/error",data:{roles:[],pageTitle:"errors.title"},views:{"content@":{templateUrl:"scripts/app/error/error.html"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(r,e){return e.addPart("error"),r.refresh()}]}}).state("accessdenied",{parent:"site",url:"/accessdenied",data:{roles:[]},views:{"content@":{templateUrl:"scripts/app/error/accessdenied.html"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(r,e){return e.addPart("error"),r.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").config(["$stateProvider",function(t){t.state("home",{parent:"site",url:"/",data:{roles:[]},views:{"content@":{templateUrl:"scripts/app/main/main.html",controller:"MainController"}},resolve:{mainTranslatePartialLoader:["$translate","$translatePartialLoader",function(t,a){return a.addPart("main"),t.refresh()}]}})}]);
"use strict";angular.module("teamstudyApp").controller("MainController",["$scope","Principal",function(t,n){n.identity().then(function(e){t.account=e,t.isAuthenticated=n.isAuthenticated})}]);
"use strict";angular.module("teamstudyApp").factory("AuthServerProvider",["$http","localStorageService","Base64",function(e,t){return{login:function(n){var r="username="+n.username+"&password="+n.password;return e.post("api/authenticate",r,{headers:{"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"}}).success(function(e){return t.set("token",e),e})},logout:function(){t.clearAll()},getToken:function(){return t.get("token")},hasValidToken:function(){var e=this.getToken();return e&&e.expires&&e.expires>(new Date).getTime()}}}]);